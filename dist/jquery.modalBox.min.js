/*
 *  jquery.modal-box - v2.0.1
 *  The light weight modal plugin with css3 animations for jQuery
 *  https://github.com/vladrub/jquery.modalBox/
 *
 *  Made by Vladislav Rubanovich
 *  Under MIT License
 */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a,b,c,d){"use strict";function e(b,c,d){switch(this.el=b,this.$el=a(this.el),this.$body=a("body"),this.options=a.extend({},g,d),this._defaults=g,this._name=f,this.init(),c){case"open":this.open(),this.options.autoClose&&setTimeout(function(){this.close()}.bind(this),this.options.autoCloseDelay);break;case"close":this.close()}}var f="modalBox",g={closeOnEscape:!0,centeringVertical:!1,autoClose:!1,autoCloseDelay:3e3};a.extend(e.prototype,{init:function(){var b=this;a(".close",this.$el).click(function(a){a.preventDefault(),b.close()}),this.options.closeOnEscape&&a(this.$el).bind("keydown",function(a){27===a.keyCode&&b.close()}),this.$el.click(function(c){a(c.target).closest(".inner").length||b.close()}),this.originalBodyPad=0,a(".modal-box.active").length||(this.originalBodyPad=parseInt(this.$body.css("padding-right"),10)),this.scrollbarWidth=this.measureScrollBar()},open:function(){var c=this;this.$el.trigger("modalBox:beforeOpen",this),a(">.inner",this.$el).outerHeight(!0)>a(b).height()&&(this.$body.addClass("modal-box-open"),this.setScrollBar()),this.centering(),this.$el.attr("tabindex",this.getTabIndex()),this.$el.css("z-index",this.getZIndex()),this.$el.addClass("active"),this.$el.one("transitionend",function(){a(".inner",c.$el).addClass("show").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){c.$el.trigger("modalBox:afterOpen",c),c.$el.focus()})})},close:function(){var b=this;this.$el.trigger("modalBox:beforeClose",this),a(".inner",b.$el).removeClass("show").addClass("hide").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a(".inner",b.$el).removeClass("hide"),b.$el.removeClass("active").one("transitionend",function(){a(".modal-box.active").length||(b.resetScrollBar(),b.$body.removeClass("modal-box-open")),b.$el.css("z-index",-1),b.$el.trigger("modalBox:afterClose",b)})})},setScrollBar:function(){this.$body.css("padding-right",this.originalBodyPad+this.scrollbarWidth)},resetScrollBar:function(){this.$body.css("padding-right",this.originalBodyPad)},measureScrollBar:function(){var b=a('<div class="modal-box-scroll-bar">');this.$body.append(b);var c=b[0].offsetWidth-b[0].clientWidth;return b.remove(),c},centering:function(){var c=this;this.options.centeringVertical&&(a(b).height()>a(">.inner",this.$el).height()?this.$el.find(".inner").css({"margin-top":"-"+c.$el.find(".inner").innerHeight()/2+"px",top:"50%"}):this.$el.find(".inner").removeAttr("style"))},getTabIndex:function(){var b=1;return a("div.modal-box[tabindex]").each(function(){a(this).attr("tabindex")>b&&(b=Number(a(this).attr("tabindex")))}),b+1},getZIndex:function(){var b=999;return a("div.modal-box").each(function(){a(this).css("z-index")>b&&(b=Number(a(this).css("z-index")))}),b+1}}),a.fn[f]=function(b,c){return this.each(function(){if(a.data(this,"plugin_"+f)){var d=a.data(this,"plugin_"+f);switch(d.options=a.extend({},d.options,c),b){case"open":d.open(),d.options.autoClose&&setTimeout(function(){d.close()},d.options.autoCloseDelay);break;case"close":d.close()}}else a.data(this,"plugin_"+f,new e(this,b,c))})}});